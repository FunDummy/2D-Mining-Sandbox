[gd_scene load_steps=13 format=3 uid="uid://d4mufsk5s6ksm"]

[ext_resource type="Script" path="res://game/player/base_player.gd" id="1_lm5hc"]
[ext_resource type="Resource" uid="uid://c8feqy48gw426" path="res://game/player/loadouts/default_loadout.tres" id="2_dv4ej"]
[ext_resource type="PackedScene" uid="uid://b7kuvqlnmagen" path="res://game/effects/block marker/block_marker.tscn" id="3_6qduw"]
[ext_resource type="PackedScene" uid="uid://bhvbs1jyh6255" path="res://game/effects/block break animation/block_break_animation.tscn" id="4_qiuqw"]
[ext_resource type="PackedScene" uid="uid://dcor34lsh3lfc" path="res://game/player/virtual_projectile_thrower.tscn" id="5_auas0"]
[ext_resource type="PackedScene" uid="uid://d1tn6k71bbasx" path="res://game/player/mine_raycast.tscn" id="6_2mh75"]
[ext_resource type="PackedScene" uid="uid://kp5ss4gudwu3" path="res://game/components/tile detector/tile_detector.tscn" id="7_oj8sg"]
[ext_resource type="PackedScene" uid="uid://b4uyq2o7u54dp" path="res://game/player/player_ui.tscn" id="8_6jpol"]
[ext_resource type="PackedScene" uid="uid://bdy43ueb6q1kq" path="res://game/components/damage system/health_component.tscn" id="8_ku2ig"]
[ext_resource type="PackedScene" uid="uid://vgl3mtr5d37f" path="res://game/components/debug component/debug_component.tscn" id="9_ypbfg"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_cp3om"]
size = Vector2(30, 60)

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_nwn3q"]
resource_local_to_scene = true
radius = 15.0
height = 75.0

[node name="Base Player" type="CharacterBody2D"]
z_index = 10
collision_layer = 2
collision_mask = 133
script = ExtResource("1_lm5hc")
loadout = ExtResource("2_dv4ej")
block_marker_scene = ExtResource("3_6qduw")
block_breaker_scene = ExtResource("4_qiuqw")
virtual_thrower_scene = ExtResource("5_auas0")
mine_raycast_scene = ExtResource("6_2mh75")

[node name="Body" type="Node2D" parent="."]

[node name="Interaction Area" type="Area2D" parent="Body"]
collision_layer = 0
collision_mask = 16

[node name="CollisionShape2D" type="CollisionShape2D" parent="Body/Interaction Area"]
position = Vector2(20, 0)
shape = SubResource("RectangleShape2D_cp3om")
debug_color = Color(0.584314, 0.905882, 0.172549, 0.419608)

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, -2)
shape = SubResource("CapsuleShape2D_nwn3q")

[node name="Low Tile Detector" parent="." instance=ExtResource("7_oj8sg")]
position = Vector2(0, 32)

[node name="Mid Tile Detector" parent="." instance=ExtResource("7_oj8sg")]
position = Vector2(0, -8)

[node name="Player UI" parent="." node_paths=PackedStringArray("health") instance=ExtResource("8_6jpol")]
health = NodePath("../Health Component")

[node name="Health Component" parent="." instance=ExtResource("8_ku2ig")]
regeneration_per_sec = 5.0

[node name="Debug Component" parent="." instance=ExtResource("9_ypbfg")]
enabled = true
max_detail_level = 1
prefix = "Player"

[connection signal="hotbar_slot_changed" from="Player UI" to="." method="_on_player_ui_hotbar_slot_changed"]
